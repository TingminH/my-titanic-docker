<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>éµé”å°¼è™Ÿæ•¸æ“šä¸­å¿ƒ</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; padding: 40px; }
        .container { max-width: 1000px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #1a73e8; text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #1a73e8; color: white; }
        tr:hover { background-color: #f5f5f5; }
        .status-alive { color: green; font-weight: bold; }
        .status-dead { color: red; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš¢ éµé”å°¼è™Ÿä¹˜å®¢æ•¸æ“šæŸ¥è©¢ç³»çµ±</h1>
        <table id="data-table">
            <thead>
                <tr>
                    <th>å§“å</th>
                    <th>æ€§åˆ¥</th>
                    <th>å¹´é½¡</th>
                    <th>è‰™ç­‰</th>
                    <th>ç”Ÿå­˜ç‹€æ…‹</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>
    </div>

    <script>
        // å–å¾—ç•¶å‰ç¶²å€çš„ IPï¼Œè‡ªå‹•é€£çµåˆ°å¾Œç«¯ 5000 port
        const vmIP = window.location.hostname; 
        
        fetch(`http://${vmIP}:5000/api/passengers`)
            .then(response => response.json())
            .then(data => {
                const tbody = document.querySelector('#data-table tbody');
                data.forEach(p => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${p.pname}</td>
                        <td>${p.sex}</td>
                        <td>${p.age || 'æœªçŸ¥'}</td>
                        <td>${p.pclass}</td>
                        <td class="${p.survived == 1 ? 'status-alive' : 'status-dead'}">
                            ${p.survived == 1 ? 'âœ… ç”Ÿé‚„' : 'âŒ ç½¹é›£'}
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            })
            .catch(error => console.error('Error fetching data:', error));
    </script>
</body>
</html>
